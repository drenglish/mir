webpackJsonp([1],{"07D5":function(t,e){},"223r":function(t,e){},DrI6:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};n.d(r,"getSchema",function(){return zt}),n.d(r,"getCurrentSchema",function(){return Qt}),n.d(r,"getCurrentItem",function(){return Kt}),n.d(r,"getItemDiff",function(){return Xt}),n.d(r,"setCurrentItem",function(){return Zt}),n.d(r,"clearCurrentItem",function(){return te}),n.d(r,"createItem",function(){return ee}),n.d(r,"updateItem",function(){return ne}),n.d(r,"deleteItem",function(){return re}),n.d(r,"getCurrentCollection",function(){return ae}),n.d(r,"getRelationshipCollection",function(){return se}),n.d(r,"getMediaLibrary",function(){return ie}),n.d(r,"showMediaSelector",function(){return oe}),n.d(r,"setMedia",function(){return ce}),n.d(r,"showEditView",function(){return le}),n.d(r,"login",function(){return ue}),n.d(r,"handleCredentials",function(){return de}),n.d(r,"notify",function(){return me});var a={};n.d(a,"schema",function(){return pe}),n.d(a,"currentSchema",function(){return he}),n.d(a,"currentItem",function(){return fe}),n.d(a,"itemDiff",function(){return ve}),n.d(a,"currentCollection",function(){return _e}),n.d(a,"relationshipCollection",function(){return ge}),n.d(a,"mediaLibrary",function(){return ye}),n.d(a,"mediaSelector",function(){return Ce}),n.d(a,"mediaSetter",function(){return De}),n.d(a,"editViewActive",function(){return Ie}),n.d(a,"selectedMedia",function(){return be}),n.d(a,"loading",function(){return we}),n.d(a,"notification",function(){return Ee});var s=n("7+uW"),i=n("Dd8w"),o=n.n(i),c=n("NYxO"),l={name:"app",methods:o()({},Object(c.b)(["getSchema"])),mounted:function(){this.getSchema()}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var d=n("VU/8")(l,u,!1,function(t){n("223r")},null,null).exports,m=n("/ocq"),p=n("mvHQ"),h=n.n(p),f=n("ivXw"),v=n("mtWM"),_=n.n(v).a.create({baseURL:"/api/v1"});function g(){var t=localStorage.getItem("token");return t?{headers:{Authorization:t}}:{}}var y=function(t,e){var n=g(),r=o()({},n,e);return _.get(t,r).then(function(t){return t.data})},C=function(t,e,n){var r=g();r.headers["If-Match"]=n;var a=o()({},r);return _.put(t,e,a).then(function(t){return t.data})},D=function(t,e){var n=g(),r=o()({},n);return _.post(t,e,r).then(function(t){return t.data},function(t){return t.data})},I=function(t,e){var n=g();n.headers["If-Match"]=e;var r=o()({},n);return _.delete(t,r).then(function(t){return t.data},function(t){return t.data})},b={name:"Login",data:function(){return{username:null,password:null}},methods:{login:function(){var t=this;D("authenticate",{username:this.username,password:this.password}).then(function(e){console.log(e),e&&e.token&&(localStorage.setItem("username",t.username),localStorage.setItem("roles",h()(e.roles)),localStorage.setItem("token",e.token),t.$router.push("/"))})}}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"padding-lg",attrs:{id:"login"}},[t._m(0),t._v(" "),n("div",{staticClass:"row align-center"},[n("div",{staticClass:"columns small-12 medium-6"},[n("label",{attrs:{for:""}},[t._v("Username")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"row align-center"},[n("div",{staticClass:"columns small-12 medium-6"},[n("label",{attrs:{for:""}},[t._v("Password")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"row align-center"},[n("div",{staticClass:"columns small-12 medium-6 text-left"},[n("a",{staticClass:"button",attrs:{href:"#submit"},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("Submit")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row align-center"},[e("div",{staticClass:"columns small-12 medium-6 text-left"},[e("h2",[this._v("\n        Login\n      ")])])])}]};var E=n("VU/8")(b,w,!1,function(t){n("RnpN")},null,null).exports,x=n("QP8F"),S=n.n(x).a.Cloudinary.new({cloud_name:"dru5oe8vy"}),A={name:"mediaLibrary",mixins:[{methods:{getCloudUrl:function(t,e){return S.url(f.h(f.q("/",t)),e)}}}],props:["addToPost"],mounted:function(){this.getMediaLibrary()},data:function(){return{loading:!1,uploading:!1,type:null,title:null}},computed:o()({},Object(c.c)(["mediaLibrary"])),methods:o()({},Object(c.b)(["getMediaLibrary","deleteItem","createItem"]),{deleteMedia:function(t,e){var n=this;this.deleteItem({resourceType:"media",resourceId:t,etag:e}).then(function(t){console.log(t),n.getMediaLibrary()},function(t){console.log(t)})},addMedia:function(){this.uploading=!0},cancel:function(){this.uploading=!1},onFileChange:function(t){for(var e=this,n=t.target.files||t.dataTransfer.files,r=null,a=0;a<n.length;a+=1)(r=new FormData).append("item",n[a]),r.append("title",this.title),this.loading=!0,this.uploading=!1,this.createItem({resourceType:"media",payload:r}).then(function(){e.getMediaLibrary({params:{max_results:200}}).then(function(){e.loading=!1})},function(t){console.log(t)})},upload:function(){document.querySelector("#addImage").click()}})},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media-library",attrs:{id:"media-library"}},[n("input",{staticClass:"hidden",attrs:{id:"addImage",type:"file",multiple:""},on:{change:function(e){t.onFileChange(e)}}}),t._v(" "),n("div",{staticClass:"row fullWidth padding-sm"},[t._m(0),t._v(" "),n("div",{staticClass:"columns small-12 medium-6 text-right"},[n("a",{staticClass:"button",attrs:{href:"#add"},on:{click:function(e){return e.preventDefault(),t.addMedia(e)}}},[t._v("Add Media")])])]),t._v(" "),t.mediaLibrary&&t.mediaLibrary._items&&t.mediaLibrary._items.length>0?n("div",{staticClass:"row fullWidth padding-sm"},t._l(t.mediaLibrary._items,function(e){return n("div",{staticClass:"column small-12 medium-4 large-2"},[n("label",[t._v(t._s(e.title))]),t._v(" "),n("img",{attrs:{src:t.getCloudUrl(e.item,{width:200,crop:"fit",quality:100}),alt:""}}),t._v(" "),n("div",{staticClass:"controls padding-sm"},[n("a",{staticClass:"button alert",attrs:{href:"#delete"},on:{click:function(n){n.preventDefault(),t.deleteMedia(e._id,e._etag)}}},[t._v("Delete")])])])})):t._e(),t._v(" "),t.uploading?n("div",{staticClass:"upload-form-container"},[n("div",{staticClass:"upload-form"},[n("div",[n("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),n("a",{staticClass:"button",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.upload(e)}}},[t._v("Upload")]),t._v(" "),n("a",{staticClass:"button alert",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("Cancel")])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns small-12 medium-6"},[e("h2",[this._v("Media Library")])])}]};var R={name:"index",mixins:[{methods:{validRoute:function(t){return!f.b(t,["accounts","configuration","users","media","log"])}}}],components:{mediaLibrary:n("VU/8")(A,T,!1,function(t){n("qJ/6")},null,null).exports},computed:o()({},Object(c.c)(["schema","notification"])),methods:o()({},Object(c.b)(["notify"]),{logout:function(){localStorage.setItem("token",null),localStorage.setItem("username",null),this.$router.push("/login")},closeNotification:function(){this.notify(null)}})},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main-index"}},[n("transition",{attrs:{name:"notify"}},[t.notification?n("div",{staticClass:"notification",class:""+t.notification.type,on:{click:t.closeNotification}},[n("span",[t._v("\n        "+t._s(t.notification.msg)+"\n      ")])]):t._e()]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"row fullWidth"},[n("div",{staticClass:"columns collapse shrink main-menu padding-sm"},[n("ul",{staticClass:"resources item-list"},[n("li",{staticClass:"item"},[n("router-link",{attrs:{to:{name:"Index"}}},[t._v("Main Dashboard")])],1),t._v(" "),t._l(t.schema,function(e,r){return t.validRoute(r)?n("li",{staticClass:"item"},[n("router-link",{attrs:{to:{name:"ItemList",params:{type:r}}}},[t._v("\n            "+t._s(r)+"\n          ")])],1):t._e()}),t._v(" "),n("li",{staticClass:"item"},[n("a",{attrs:{href:"#signout"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Sign Out")])])],2)]),t._v(" "),n("div",{staticClass:"columns"},[n("router-view")],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row fullWidth top-menu"},[e("div",{staticClass:"columns"})])}]};var M=n("VU/8")(R,k,!1,function(t){n("07D5")},null,null).exports,$=n("pFYg"),U=n.n($);var O={removeMeta:function t(e){return e instanceof Array?e=f.i(t,e):"object"===(void 0===e?"undefined":U()(e))&&null!==e&&(e=f.m(function(t,e){return!e.startsWith("_")},e),e=f.i(t,e)),e},getProperties:function(t){return f.i(function(t){return t[0]},f.p(function(t){return t[1]},f.d(function(t){return!t[0].startsWith("_")},f.i(function(t){return[t[0],f.l(["_metadata","order"],t[1])]},f.t(t)))))},getMetadataAttr:f.c(function(t,e,n){return f.l([e,"_metadata",n],t)}),getPropertySchema:f.c(function(t,e){return f.k(e,f.l([e,"schema"],t))}),getPropertyAnyOf:f.c(function(t,e){return f.l([e,"anyof"],t)})},V={props:["name","field","help","label","choices","schema","set","get","data","anyof"],computed:o()({},Object(c.c)(["currentSchema","currentItem"]),{localSchema:function(){if(this.name)return f.l([this.name,"schema"],this.schema)?f.l([this.name,"schema"],this.schema):this.schema[this.name]},properties:function(){return this.localSchema?O.getProperties(this.localSchema):O.getProperties(this.currentSchema)},propertyMetaAttr:function(){return this.localSchema?O.getMetadataAttr(this.localSchema):O.getMetadataAttr(this.currentSchema)},propertySchema:function(){return this.localSchema?O.getPropertySchema(this.localSchema):O.getPropertySchema(this.currentSchema)},propertyAnyOf:function(){return this.localSchema?O.getPropertyAnyOf(this.localSchema):O.getPropertyAnyOf(this.currentSchema)},scopedData:{get:function(){return this.data},set:function(t){""===t?this.set(null):this.set(t)}}}),methods:o()({},Object(c.b)(["getCurrentSchema","setCurrentItem","getCurrentItem","clearCurrentItem"]))},L={name:"string",mixins:[V]},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.scopedData,expression:"scopedData"}],attrs:{type:"text"},domProps:{value:t.scopedData},on:{input:function(e){e.target.composing||(t.scopedData=e.target.value)}}})])},staticRenderFns:[]},F=n("VU/8")(L,N,!1,null,null,null).exports,P={name:"richtext",mixins:[V]},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.scopedData,expression:"scopedData"}],attrs:{name:t.name},domProps:{value:t.scopedData},on:{input:function(e){e.target.composing||(t.scopedData=e.target.value)}}})])},staticRenderFns:[]},H=n("VU/8")(P,j,!1,null,null,null).exports,W={name:"dropdown",mixins:[V]},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.scopedData,expression:"scopedData"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.scopedData=e.target.multiple?n:n[0]}}},t._l(t.choices,function(e){return n("option",{domProps:{value:e}},[t._v(t._s(e))])}))])},staticRenderFns:[]},Y=n("VU/8")(W,q,!1,null,null,null).exports,G={name:"imagefield",mixins:[V],data:function(){return{id:null}},created:function(){this.id=this.guid()},methods:{guid:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}},J={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},B=n("VU/8")(G,J,!1,null,null,null).exports,z={name:"checkbox",mixins:[V]},Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.scopedData,expression:"scopedData"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.scopedData)?t._i(t.scopedData,null)>-1:t.scopedData},on:{change:function(e){var n=t.scopedData,r=e.target,a=!!r.checked;if(Array.isArray(n)){var s=t._i(n,null);r.checked?s<0&&(t.scopedData=n.concat([null])):s>-1&&(t.scopedData=n.slice(0,s).concat(n.slice(s+1)))}else t.scopedData=a}}}),t._v(" "+t._s(t.label)+"\n  ")])])},staticRenderFns:[]},K=n("VU/8")(z,Q,!1,null,null,null).exports,X={name:"checklist",mixins:[V],computed:{scopedData:{get:function(){return this.data?this.data:[]},set:function(t){this.set(t)}}}},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),t._l(t.choices,function(e){return n("div",{staticClass:"choice"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.scopedData,expression:"scopedData"}],attrs:{type:"checkbox",name:e},domProps:{value:e,checked:Array.isArray(t.scopedData)?t._i(t.scopedData,e)>-1:t.scopedData},on:{change:function(n){var r=t.scopedData,a=n.target,s=!!a.checked;if(Array.isArray(r)){var i=e,o=t._i(r,i);a.checked?o<0&&(t.scopedData=r.concat([i])):o>-1&&(t.scopedData=r.slice(0,o).concat(r.slice(o+1)))}else t.scopedData=s}}}),t._v("\n    "+t._s(e)+"\n  ")])})],2)},staticRenderFns:[]},tt=n("VU/8")(X,Z,!1,null,null,null).exports,et={name:"objectid",mixins:[V]},nt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},rt=n("VU/8")(et,nt,!1,null,null,null).exports,at={name:"password",mixins:[V]},st={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.scopedData,expression:"scopedData"}],attrs:{type:"password"},domProps:{value:t.scopedData},on:{input:function(e){e.target.composing||(t.scopedData=e.target.value)}}})])},staticRenderFns:[]},it=n("VU/8")(at,st,!1,null,null,null).exports,ot={name:"radio",mixins:[V]},ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),t._l(t.choices,function(e){return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.scopedData,expression:"scopedData"}],attrs:{type:"radio",id:e},domProps:{value:e,checked:t._q(t.scopedData,e)},on:{change:function(n){t.scopedData=e}}}),t._v(" "+t._s(e)+"\n  ")])})],2)},staticRenderFns:[]},lt=n("VU/8")(ot,ct,!1,null,null,null).exports,ut={name:"slug",mixins:[V],computed:{scopedData:{get:function(){return this.data},set:function(t){var e=t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");this.set(e)}}}},dt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.scopedData,expression:"scopedData"}],attrs:{type:"text"},domProps:{value:t.scopedData},on:{input:function(e){e.target.composing||(t.scopedData=e.target.value)}}})])},staticRenderFns:[]},mt=n("VU/8")(ut,dt,!1,null,null,null).exports,pt={name:"dict",mixins:[V],components:{string:F,richtext:H,list:Mt,dropdown:Y,imagefield:B,checkbox:K,checklist:tt,objectid:rt,password:it,radio:lt,simplelist:xt,slug:mt},computed:{scopedData:{get:function(){return this.data?this.data:{}},set:function(t){this.set(t)}}},methods:{setter:function(t){var e=this,n=function(n){console.log(n),e.scopedData[t]?(e.scopedData[t]=n,e.set(e.scopedData)):e.set(f.j(e.scopedData,f.k(t,n)))};return n},getter:function(t){return this.scopedData[t]}}},ht={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),t._l(t.properties,function(e){return t.properties?n("div",{staticClass:"sub-field"},[n(t.propertyMetaAttr(e,"field"),{tag:"component",attrs:{name:e,help:t.propertyMetaAttr(e,"help"),label:t.propertyMetaAttr(e,"label"),choices:t.propertyMetaAttr(e,"choices"),schema:t.propertySchema(e),set:t.setter(e),data:t.getter(e)}})],1):t._e()})],2)},staticRenderFns:[]},ft=n("VU/8")(pt,ht,!1,null,null,null).exports,vt={name:"simplelist",mixins:[V],components:{string:F,richtext:H,dropdown:Y,dict:Tt,imagefield:B,checkbox:K,checklist:tt,objectid:rt,password:it,radio:lt,slug:mt},computed:{localSchema:function(){return this.schema},scopedData:function(){return this.data?this.data:[]}},methods:{setter:function(t){var e=this,n=function(n){e.scopedData[t]=n,e.set(e.scopedData)};return n},addItem:function(){var t=null;(t=this.data?this.data:[]).push({}),this.set(t)},removeItem:function(t){var e=this.data;e.splice(t,1),this.set(e)}}},_t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),t._l(t.scopedData,function(e,r){return t.scopedData&&t.scopedData.length>0?n("div",{staticClass:"sub-field"},[n(t.propertyMetaAttr(t.name,"field"),{key:r,tag:"component",attrs:{choices:t.propertyMetaAttr(t.name,"choices"),schema:t.propertySchema(t.name),set:t.setter(r)}}),t._v(" "),n("a",{attrs:{href:"#remove"},on:{click:function(e){e.preventDefault(),t.removeItem(r)}}},[t._v("Remove Item")])],1):t._e()}),t._v(" "),n("div",[n("a",{attrs:{href:"#add"},on:{click:function(e){return e.preventDefault(),t.addItem(e)}}},[t._v("Add Item")])])],2)},staticRenderFns:[]},gt=n("VU/8")(vt,_t,!1,null,null,null).exports,yt={name:"list",mixins:[V],components:{string:F,richtext:H,dropdown:Y,dict:ft,imagefield:B,checkbox:K,checklist:tt,objectid:rt,password:it,radio:lt,simplelist:gt,slug:mt},data:function(){return{hasFlex:!1}},computed:{scopedData:function(){return this.data?this.data:[]},localSchema:function(){return this.name&&f.l([this.name,"anyof"],this.schema)?this.schema:this.name&&!f.l([this.name,"anyof"],this.schema)?f.l([this.name,"schema"],this.schema)?f.l([this.name,"schema"],this.schema):this.schema[this.name]:void 0}},methods:{setter:function(t,e){var n=this,r=(this.hasFlex,function(r){f.l([n.name,"anyof"],n.schema)?n.scopedData[t]=n.scopedData[t]?f.j(n.scopedData[t],r):r:n.scopedData[t][e]?n.scopedData[t][e]=r:n.scopedData[t]=f.j(n.scopedData[t],f.k(e,r)),n.set(n.scopedData)});return r},getter:function(t,e){return this.hasFlex?this.scopedData[t]:this.scopedData[t][e]},addItem:function(){var t=null;(t=this.data?this.data:[]).push({}),this.set(t)},removeItem:function(t){var e=this.data;e.splice(t,1),0===e.length?this.set(null):this.set(e)}}},Ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),t._l(t.scopedData,function(e,r){return t.scopedData&&t.scopedData.length>0?n("div",[t._l(t.properties,function(e){return t.properties?n("div",{staticClass:"sub-field"},[n(t.propertyMetaAttr(e,"field"),{tag:"component",attrs:{name:e,help:t.propertyMetaAttr(e,"help"),label:t.propertyMetaAttr(e,"label"),choices:t.propertyMetaAttr(e,"choices"),schema:t.propertySchema(e),anyof:t.propertyAnyOf(e),set:t.setter(r,e),data:t.getter(r,e)}})],1):t._e()}),t._v(" "),n("a",{attrs:{href:"#remove"},on:{click:function(e){e.preventDefault(),t.removeItem(r)}}},[t._v("Remove Item")])],2):t._e()}),t._v(" "),n("div",[n("a",{attrs:{href:"#add"},on:{click:function(e){return e.preventDefault(),t.addItem(e)}}},[t._v("Add Item")])])],2)},staticRenderFns:[]},Dt={name:"flexible_content",mixins:[V],components:{string:F,richtext:H,dropdown:Y,imagefield:B,checkbox:K,checklist:tt,objectid:rt,password:it,radio:lt,slug:mt,dict:ft,list:n("VU/8")(yt,Ct,!1,null,null,null).exports,simplelist:gt},data:function(){return{activeSet:null}},watch:{activeSet:function(){this.scopedData&&this.set({})}},mounted:function(){this.anyof&&this.anyof.length>0&&(this.activeSet=this.anyof[0])},computed:{localSchema:function(){return this.activeSet?this.activeSet.schema:null},properties:function(){return O.getProperties(this.localSchema)},scopedData:{get:function(){return this.data?this.data:{}},set:function(t){this.set(t)}}},methods:{isActiveSet:function(t){return this.activeSet===t},getFieldSetName:function(t){return f.l(["_metadata","label"],t)},setter:function(t){var e=this,n=function(n){e.scopedData[t]?(e.scopedData[t]=n,e.set(e.scopedData)):e.set(f.j(e.scopedData,f.k(t,n)))};return n},getter:function(t){return this.scopedData[t]}}},It={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.activeSet,expression:"activeSet"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.activeSet=e.target.multiple?n:n[0]}}},t._l(t.anyof,function(e){return n("option",{domProps:{value:e}},[t._v(t._s(t.getFieldSetName(e)))])})),t._v(" "),t._l(t.anyof,function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActiveSet(e),expression:"isActiveSet(item)"}]},t._l(t.properties,function(e){return t.properties?n("div",{staticClass:"sub-field"},[n(t.propertyMetaAttr(e,"field"),{tag:"component",attrs:{name:e,help:t.propertyMetaAttr(e,"help"),label:t.propertyMetaAttr(e,"label"),choices:t.propertyMetaAttr(e,"choices"),schema:t.propertySchema(e),set:t.setter(e),data:t.getter(e)}})],1):t._e()}))})],2)},staticRenderFns:[]},bt=n("VU/8")(Dt,It,!1,null,null,null).exports,wt={name:"simplelist",mixins:[V],components:{string:F,richtext:H,dropdown:Y,dict:Tt,imagefield:B,checkbox:K,checklist:tt,objectid:rt,password:it,radio:lt,simplelist:xt,slug:mt,flexible_content:bt},computed:{localSchema:function(){return this.schema},scopedData:function(){return this.data?this.data:[]}},methods:{setter:function(t){var e=this,n=function(n){e.scopedData[t]=n,e.set(e.scopedData)};return n},getter:function(t,e){return this.scopedData[t]},addItem:function(){var t=null;(t=this.data?this.data:[]).push({}),this.set(t)},removeItem:function(t){var e=this.data;e.splice(t,1),this.set(e)}}},Et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),t._l(t.scopedData,function(e,r){return t.scopedData&&t.scopedData.length>0?n("div",{staticClass:"sub-field"},[n(t.propertyMetaAttr(t.name,"field"),{key:r,tag:"component",attrs:{choices:t.propertyMetaAttr(t.name,"choices"),schema:t.propertySchema(t.name),set:t.setter(r),data:t.getter(r)}}),t._v(" "),n("a",{attrs:{href:"#remove"},on:{click:function(e){e.preventDefault(),t.removeItem(r)}}},[t._v("Remove Item")])],1):t._e()}),t._v(" "),n("div",[n("a",{attrs:{href:"#add"},on:{click:function(e){return e.preventDefault(),t.addItem(e)}}},[t._v("Add Item")])])],2)},staticRenderFns:[]},xt=n("VU/8")(wt,Et,!1,null,null,null).exports,St={name:"dict",mixins:[V],components:{string:F,richtext:H,list:Mt,dropdown:Y,imagefield:B,checkbox:K,checklist:tt,objectid:rt,password:it,radio:lt,simplelist:xt,slug:mt},computed:{scopedData:{get:function(){return this.data?this.data:{}},set:function(t){this.set(t)}}},methods:{setter:function(t){var e=this,n=function(n){console.log(n),e.scopedData[t]?(e.scopedData[t]=n,e.set(e.scopedData)):e.set(f.j(e.scopedData,f.k(t,n)))};return n},getter:function(t){return this.scopedData[t]}}},At={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),t._l(t.properties,function(e){return t.properties?n("div",{staticClass:"sub-field"},[n(t.propertyMetaAttr(e,"field"),{tag:"component",attrs:{name:e,help:t.propertyMetaAttr(e,"help"),label:t.propertyMetaAttr(e,"label"),choices:t.propertyMetaAttr(e,"choices"),schema:t.propertySchema(e),set:t.setter(e),data:t.getter(e)}})],1):t._e()})],2)},staticRenderFns:[]},Tt=n("VU/8")(St,At,!1,null,null,null).exports,Rt={name:"list",mixins:[V],components:{string:F,richtext:H,dropdown:Y,dict:Tt,imagefield:B,checkbox:K,checklist:tt,objectid:rt,password:it,radio:lt,simplelist:xt,flexible_content:bt,slug:mt},data:function(){return{hasFlex:!1}},computed:{scopedData:function(){return this.data?this.data:[]},localSchema:function(){return this.name&&f.l([this.name,"anyof"],this.schema)?this.schema:this.name&&!f.l([this.name,"anyof"],this.schema)?f.l([this.name,"schema"],this.schema)?f.l([this.name,"schema"],this.schema):this.schema[this.name]:void 0}},methods:{setter:function(t,e){var n=this,r=function(r){f.l([n.name,"anyof"],n.schema)?n.scopedData[t]=n.scopedData[t]&&!f.f(r)?f.j(n.scopedData[t],r):r:n.scopedData[t][e]?n.scopedData[t][e]=r:n.scopedData[t]=f.j(n.scopedData[t],f.k(e,r)),n.set(n.scopedData)};return r},getter:function(t,e){return f.l([this.name,"anyof"],this.schema)?this.scopedData[t]:this.scopedData[t][e]},addItem:function(){var t=null;(t=this.data?this.data:[]).push({}),this.set(t)},removeItem:function(t){var e=this.data;e.splice(t,1),0===e.length?this.set(null):this.set(e)}}},kt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"help"},[t._v(t._s(t.help))]),t._v(" "),t._l(t.scopedData,function(e,r){return t.scopedData&&t.scopedData.length>0?n("div",[t._l(t.properties,function(e){return t.properties?n("div",{staticClass:"sub-field"},[n(t.propertyMetaAttr(e,"field"),{tag:"component",attrs:{name:e,help:t.propertyMetaAttr(e,"help"),label:t.propertyMetaAttr(e,"label"),choices:t.propertyMetaAttr(e,"choices"),schema:t.propertySchema(e),anyof:t.propertyAnyOf(e),set:t.setter(r,e),data:t.getter(r,e)}})],1):t._e()}),t._v(" "),n("a",{attrs:{href:"#remove"},on:{click:function(e){e.preventDefault(),t.removeItem(r)}}},[t._v("Remove Item")])],2):t._e()}),t._v(" "),n("div",[n("a",{attrs:{href:"#add"},on:{click:function(e){return e.preventDefault(),t.addItem(e)}}},[t._v("Add Item")])])],2)},staticRenderFns:[]},Mt=n("VU/8")(Rt,kt,!1,null,null,null).exports,$t={components:{string:F,richtext:H,list:Mt,dropdown:Y,dict:Tt,imagefield:B,checkbox:K,checklist:tt,objectid:rt,password:it,radio:lt,simplelist:xt,slug:mt,flexible_content:bt},mixins:[V],name:"itemEditor",watch:{$route:"refreshData",currentItem:function(t){this.selectedVersion=t._version||null}},mounted:function(){this.refreshData()},data:function(){return{loaded:!1,selectedVersion:null,showItemDiff:!1,errors:[]}},computed:o()({},Object(c.c)(["itemDiff"])),methods:o()({},Object(c.b)(["createItem","updateItem","deleteItem","getItemDiff","notify"]),{setter:function(t){var e=this,n=function(n){var r=e.currentItem;r[t]=n,e.setCurrentItem(r)};return n},getter:function(t){return this.currentItem[t]},refreshData:function(){var t=this;this.loaded=!1,this.clearCurrentItem();var e=this.$route.params.type,n=this.$route.params.id;this.getCurrentSchema(this.$route.params.type),n?this.getCurrentItem({resourceId:n,resourceType:e}).then(function(e){t.loaded=!0}).catch(function(e){console.log(e),t.$router.push({name:"Index"})}):this.loaded=!0},specifyVersion:function(t){this.selectedVersion=t,this.showItemDiff=!1,this.selectVersion()},selectVersion:function(){var t=this;this.loaded=!1;var e=this.$route.params.type,n=this.$route.params.id;n?this.getCurrentItem({resourceId:n,resourceType:e,params:{version:parseInt(this.selectedVersion)}}).then(function(e){t.loaded=!0}).catch(function(e){console.log(e),t.$router.push({name:"Index"})}):this.loaded=!0},showDiff:function(){var t=this,e=this.$route.params.type,n=this.$route.params.id;n?this.getItemDiff({resourceId:n,resourceType:e}).then(function(e){t.showItemDiff=!0}).catch(function(e){t.showItemDiff=!1}):this.showItemDiff=!1},saveResource:function(){var t=this,e=this.$route.params.type,n=this.$route.params.id;if(n){var r={resourceType:e,resourceId:n,payload:this.currentItem,etag:this.currentItem._etag};this.updateItem(r).then(function(e){t.notify({msg:"Item saved!",type:"success"}),t.$router.push({name:"ItemList",params:{type:t.$route.params.type}})}).catch(function(e){t.handleError(e)})}else{var a={resourceType:e,payload:this.currentItem};this.createItem(a).then(function(e){t.notify({msg:"Item saved!",type:"success"}),t.$router.push({name:"ItemList",params:{type:t.$route.params.type}})}).catch(function(e){t.handleError(e)})}},deleteResource:function(){var t=this,e={resourceType:this.$route.params.type,resourceId:this.$route.params.id,etag:this.currentItem._etag};this.deleteItem(e).then(function(e){t.$router.push({name:"ItemList",params:{type:t.$route.params.type}})},function(e){t.handleError(e)})},validDiffValue:function(t){return!f.r("_",t)},lastVersionValue:function(t,e){var n=f.o(0,e,f.i(function(e){return e[t]},this.itemDiff._items)),r=f.d(function(t){return void 0!==t&&null!==t},n);return f.h(r)},valueType:function(t){return f.e(Object,t)?"object":f.e(Array,t)?"array":"simple"},closeDiff:function(){this.getItemDiff({}),this.showItemDiff=!1},handleError:function(t){412===t.response.status&&this.notify({msg:"Oops! It looks like someone else has edited this document. Please refresh the page for the latest version.",type:"warning"}),404===t.response.status&&(this.notify({msg:"Oops! It looks like you are trying to edit a resource that no longer exists.",type:"warning"}),this.$router.push({name:"ItemList",params:{type:this.$route.params.type}})),422===t.response.status&&(this.notify({msg:"Oops! Your updates contain validation errors.",type:"warning"}),t.response.data&&t.response.data._issues&&(this.errors=f.g(t.response.data._issues))),500===t.response.status&&this.notify({msg:"Something went wrong! Please try again in a moment.",type:"warning"})},getError:function(t){return f.b(t,this.errors)}})},Ut={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loaded?n("div",{staticClass:"takeover",class:{setHeight:t.showItemDiff},attrs:{id:"main-index"}},[n("div",{staticClass:"row align-center"},[n("div",{staticClass:"columns small-12 medium-8 padding-lg"},[n("router-link",{staticClass:"close",attrs:{to:{name:"ItemList",params:{type:t.$route.params.type}}}},[n("i",{staticClass:"fas fa-times-circle"})]),t._v(" "),t.currentItem?n("h2",{staticClass:"title-case"},[t._v("\n        "+t._s(t.currentItem.title||"New "+t.$route.params.type)+"\n      ")]):t._e(),t._v(" "),t.currentItem?n("div",{staticClass:"row"},[n("div",{staticClass:"columns shrink"},[n("b",[t._v("Current Version:")]),t._v(" "+t._s(t.currentItem._version)+"\n        ")]),t._v(" "),n("div",{staticClass:"columns"},[n("b",[t._v("Latest Version:")]),t._v(" "+t._s(t.currentItem._latest_version)+"\n        ")]),t._v(" "),n("div",{staticClass:"columns shrink text-right"},[n("a",{attrs:{href:"#diff"},on:{click:function(e){return e.preventDefault(),t.showDiff(e)}}},[t._v("Show Version History")])]),t._v(" "),n("div",{staticClass:"columns small-12 padding-sm"},[parseInt(t.currentItem._latest_version)>1?n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedVersion,expression:"selectedVersion"}],attrs:{name:"version",id:"version-select"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedVersion=e.target.multiple?n:n[0]},t.selectVersion]}},t._l(parseInt(t.currentItem._latest_version),function(e){return n("option",{domProps:{value:e}},[t._v("\n              Version "+t._s(e)+"\n            ")])})):t._e()]),t._v(" "),t.showItemDiff?n("div",{staticClass:"diffs padding-md"},[n("a",{staticClass:"close",attrs:{href:"#closeDiff"},on:{click:function(e){return e.preventDefault(),t.closeDiff(e)}}},[n("i",{staticClass:"fas fa-times-circle"})]),t._v(" "),t._l(t.itemDiff._items,function(e,r){return n("div",{staticClass:"row align-center padding-sm"},[n("div",{staticClass:"columns small-12 medium-8"},[n("h4",[t._v("\n                Version "+t._s(e._version)+"\n              ")]),t._v(" "),n("table",[t._m(0,!0),t._v(" "),n("tbody",t._l(e,function(e,a){return t.validDiffValue(a)?n("tr",[n("td",[t._v(t._s(a))]),t._v(" "),n("td",[r>0?n("div",["simple"===t.valueType(e)?n("div",[t._v("\n                          "+t._s(t.lastVersionValue(a,r)||"Value not set")+"\n                        ")]):t._e(),t._v(" "),"array"===t.valueType(e)?n("div",t._l(t.lastVersionValue(e),function(e){return n("div",[t._v("\n                            "+t._s(e)+"\n                          ")])})):t._e(),t._v(" "),"object"===t.valueType(e)?n("div",t._l(t.lastVersionValue(e),function(e){return n("div",[t._v("\n                            "+t._s(e)+"\n                          ")])})):t._e()]):t._e(),t._v(" "),0===r?n("div",[t._v("\n                        —\n                      ")]):t._e()]),t._v(" "),n("td",["simple"===t.valueType(e)?n("div",[t._v("\n                        "+t._s(e)+"\n                      ")]):t._e(),t._v(" "),"array"===t.valueType(e)?n("div",t._l(e,function(e){return n("div",[t._v("\n                          "+t._s(e)+"\n                        ")])})):t._e(),t._v(" "),"object"===t.valueType(e)?n("div",t._l(e,function(e){return n("div",[t._v("\n                          "+t._s(e)+"\n                        ")])})):t._e()])]):t._e()}))]),t._v(" "),n("div",{staticClass:"text-right"},[n("a",{attrs:{href:"#selectVersion"},on:{click:function(n){n.preventDefault(),t.specifyVersion(parseInt(e._version))}}},[t._v("\n                  Select this version\n                ")])])])])})],2):t._e()]):t._e(),t._v(" "),t._l(t.properties,function(e){return n("div",{staticClass:"form-field",class:{error:t.getError(e)}},[n(t.propertyMetaAttr(e,"field"),{tag:"component",attrs:{name:e,help:t.propertyMetaAttr(e,"help"),label:t.propertyMetaAttr(e,"label"),choices:t.propertyMetaAttr(e,"choices"),schema:t.propertySchema(e),anyof:t.propertyAnyOf(e),set:t.setter(e),data:t.getter(e)}}),t._v(" "),t.getError(e)?n("div",{staticClass:"error-msg"},[t._v("\n          "+t._s(t.propertyMetaAttr(e,"error")||"This field contains errors")+"\n        ")]):t._e()],1)})],2)]),t._v(" "),n("div",{staticClass:"row align-center"},[t.$route.params.id?t._e():n("a",{staticClass:"button",attrs:{href:"#save"},on:{click:function(e){return e.preventDefault(),t.saveResource(e)}}},[t._v("Save")]),t._v(" "),t.$route.params.id?n("a",{staticClass:"button",attrs:{href:"#update"},on:{click:function(e){return e.preventDefault(),t.saveResource(e)}}},[t._v("Update")]):t._e(),t._v(" "),t.$route.params.id?n("a",{staticClass:"button alert",attrs:{href:"#delete"},on:{click:function(e){return e.preventDefault(),t.deleteResource(e)}}},[t._v("Delete")]):t._e(),t._v(" "),n("router-link",{staticClass:"button secondary",attrs:{to:{name:"ItemList",params:{type:t.$route.params.type}}}},[t._v("Cancel")])],1)]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{width:"200"}},[this._v("Updated Property")]),this._v(" "),e("th",[this._v("Previous Value")]),this._v(" "),e("th",[this._v("Current Value")])])])}]};var Ot=n("VU/8")($t,Ut,!1,function(t){n("g+Ro")},null,null).exports,Vt=n("DbJJ"),Lt=n.n(Vt),Nt={components:{},name:"ItemList",data:function(){return{loaded:!1,searchTerm:null}},watch:{$route:"refreshData"},mounted:function(){this.refreshData()},methods:o()({},Object(c.b)(["getCurrentCollection"]),{refreshData:function(){var t=this;this.getCurrentCollection({resourceType:this.$route.params.type,params:{max_results:500,projection:{title:1}}}).then(function(){t.loaded=!0})}}),computed:o()({},Object(c.c)(["currentCollection"]),{listTitle:function(){return Lt()(this.$route.params.type)},itemList:function(){var t=this;return this.searchTerm?f.d(function(e){return f.b(f.s(t.searchTerm),f.s(e.title))},this.currentCollection._items):this.currentCollection._items}})},Ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loaded?n("div",{attrs:{id:"item-list"}},[n("div",{staticClass:"row align-center"},[n("div",{staticClass:"columns small-12 medium-8 secondary-menu padding-lg"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],attrs:{type:"text",placeholder:"Search "+t.listTitle},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),t._v(" "),n("ul",{staticClass:"secondary-item-list"},t._l(t.itemList,function(e){return t.currentCollection&&t.currentCollection._items?n("li",{staticClass:"secondary-item"},[n("router-link",{attrs:{to:{name:"ItemEditor",params:{type:t.$route.params.type,id:e._id}}}},[t._v("\n            "+t._s(e.title||e.slug||e._id)+"\n          ")])],1):t._e()})),t._v(" "),n("div",{staticClass:"padding-sm"},[n("router-link",{staticClass:"button",attrs:{to:{name:"ItemCreator",params:{type:t.$route.params.type}}}},[t._v("Create New Item")])],1)])]),t._v(" "),n("div",[n("router-view")],1)]):t._e()},staticRenderFns:[]};var Pt=n("VU/8")(Nt,Ft,!1,function(t){n("kUjd")},null,null).exports,jt={name:"Users",data:function(){return{superuser:!1,showUserForm:!1,username:null,password:null,confirmPassword:null,roles:[{role:"user"}],match:!1}},mounted:function(){this.setState()},methods:o()({},Object(c.b)(["getCurrentCollection","createItem","notify"]),{setState:function(){var t=f.i(function(t){return t.role},JSON.parse(localStorage.getItem("roles")));f.b("superuser",t)?(this.superuser=!0,this.getCurrentCollection({resourceType:"users",params:{max_results:500}})):this.getCurrentCollection({resourceType:"accounts",params:{max_results:500}})},formatRoles:function(t){return f.i(function(t){return t.role},t).join(", ")},createUser:function(){this.showUserForm=!0},sendCreateUser:function(){var t=this;this.password==this.confirmPassword?this.createItem({resourceType:"users",payload:{username:this.username,password:this.password,roles:this.roles}}).then(function(e){t.showUserForm=!1,t.notify({msg:"User created successfully!",type:"success"}),t.setState()}).catch(function(e){t.handleError(e)}):this.notify({msg:"Your passwords do not match!",type:"warning"})},closeUserForm:function(){this.showUserForm=!1},addRole:function(){this.roles=f.a({role:null},this.roles)},removeRole:function(t){this.roles=f.n(t,1,this.roles)},handleError:function(t){412===t.response.status&&this.notify({msg:"Oops! It looks like someone else has edited this document. Please refresh the page for the latest version.",type:"warning"}),404===t.response.status&&(this.notify({msg:"Oops! It looks like you are trying to edit a resource that no longer exists.",type:"warning"}),this.$router.push({name:"ItemList",params:{type:this.$route.params.type}})),422===t.response.status&&(this.notify({msg:"Oops! Your updates contain validation errors.",type:"warning"}),t.response.data&&t.response.data._issues&&(this.errors=f.g(t.response.data._issues))),500===t.response.status&&this.notify({msg:"Something went wrong! Please try again in a moment.",type:"warning"})}}),computed:o()({},Object(c.c)(["currentCollection"]))},Ht={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"users"}},[n("div",{staticClass:"row align-center"},[t.showUserForm?t._e():n("div",{staticClass:"columns small-12 medium-8 secondary-menu padding-lg"},[n("h5",[t._v("Accounts Dashboard")]),t._v(" "),n("table",[t.currentCollection&&t.currentCollection._items?n("thead",[t._m(0)]):t._e(),t._v(" "),n("tbody",t._l(t.currentCollection._items,function(e){return n("tr",[n("td",[t._v(t._s(e.username))]),t._v(" "),n("td",[e.roles&&e.roles.length>0?n("span",[t._v("\n                "+t._s(t.formatRoles(e.roles))+"\n              ")]):t._e()])])}))]),t._v(" "),t.superuser?n("div",{staticClass:"createUser"},[n("a",{staticClass:"button",attrs:{href:"#createUser"},on:{click:function(e){return e.preventDefault(),t.createUser(e)}}},[t._v("Create User")])]):t._e()]),t._v(" "),t.showUserForm?n("div",{staticClass:"columns small-12 medium-8 secondary-menu padding-lg"},[n("h5",[t._v("Create User")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"your@email.com"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password",placeholder:"Confirm Password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"row"},[t._m(1),t._v(" "),t._l(t.roles,function(e,r){return n("div",{staticClass:"columns small-12"},[n("div",{staticClass:"row"},[n("div",{staticClass:"columns small-11"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"item.role"}],attrs:{type:"text"},domProps:{value:e.role},on:{input:function(n){n.target.composing||t.$set(e,"role",n.target.value)}}})]),t._v(" "),t.roles.length>1?n("div",{staticClass:"columns small-1"},[n("a",{attrs:{href:""},on:{click:function(e){e.preventDefault(),t.removeRole(r)}}},[n("i",{staticClass:"fas fa-minus-circle"})])]):t._e()])])}),t._v(" "),n("div",{staticClass:"columns small-12"},[n("a",{attrs:{href:"#addRole"},on:{click:function(e){return e.preventDefault(),t.addRole(e)}}},[t._v("\n            Add Role\n          ")])])],2),t._v(" "),n("hr"),t._v(" "),n("div",[n("a",{staticClass:"button",attrs:{href:"#create"},on:{click:function(e){return e.preventDefault(),t.sendCreateUser(e)}}},[t._v("Create")]),t._v(" "),n("a",{staticClass:"button secondary",attrs:{href:"#cancel"},on:{click:function(e){return e.preventDefault(),t.closeUserForm(e)}}},[t._v("Cancel")])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{attrs:{width:"200"}},[this._v("Username")]),this._v(" "),e("th",[this._v("Roles")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns small-12"},[e("h6",[this._v("Roles")])])}]};var Wt=n("VU/8")(jt,Ht,!1,function(t){n("DrI6")},null,null).exports;s.a.use(m.a);var qt=function(t,e,n){y("accounts").then(function(t){n()},function(t){n("/login")})},Yt=new m.a({routes:[{path:"/login",name:"Login",component:E},{path:"/",name:"Index",component:M,beforeEnter:qt,children:[{path:"",component:Wt},{path:"/:type",name:"ItemList",beforeEnter:qt,component:Pt,children:[{path:"create",name:"ItemCreator",beforeEnter:qt,component:Ot},{path:"edit/:id",name:"ItemEditor",beforeEnter:qt,component:Ot}]}]}]});function Gt(t){return f.i(function(t){return h()(t)},t)}function Jt(t){return t instanceof Array?t=f.i(Jt,t):"object"===(void 0===t?"undefined":U()(t))&&null!==t&&(t=f.m(function(t,e){return!e.startsWith("_")},t),t=f.i(Jt,t)),t}var Bt,zt=function(t){var e=t.commit;y("info").then(function(t){e("SCHEMA",t)})},Qt=function(t,e){t.state;var n=t.commit;e&&y("info/"+e).then(function(t){n("CURRENT_SCHEMA",t)})},Kt=function(t,e){var n=t.state,r=t.commit;r("LOADING",!0);var a=e.params?Gt(e.params):null;return e.resourceType&&e.resourceId?y(e.resourceType+"/"+e.resourceId,{params:a}).then(function(t){a&&a.version&&(t._etag=n.currentItem?n.currentItem._etag:null),r("CURRENT_ITEM",t),r("LOADING",!1)}):null},Xt=function(t,e){t.state;var n=t.commit;n("LOADING",!0);var r=e.params?Gt(e.params):{};return r.version="diffs",e.resourceType&&e.resourceId?(console.log("test"),y(e.resourceType+"/"+e.resourceId,{params:r}).then(function(t){n("ITEM_DIFF",t),n("LOADING",!1)})):(n("ITEM_DIFF",null),n("LOADING",!1),null)},Zt=function(t,e){t.state;(0,t.commit)("CURRENT_ITEM",e)},te=function(t){(0,t.commit)("CLEAR_CURRENT_ITEM")},ee=function(t,e){t.state;var n=t.commit,r=null;return r="media"!==e.resourceType?Jt(e.payload):e.payload,D(""+e.resourceType,r).then(function(t){n("CURRENT_ITEM",{})})},ne=function(t,e){t.state;var n=t.commit,r=Jt(e.payload),a=e.etag;return console.log(a),C(e.resourceType+"/"+e.resourceId,r,a).then(function(t){n("CURRENT_ITEM",{})})},re=function(t,e){t.state;var n=t.commit,r=e.etag;return I(e.resourceType+"/"+e.resourceId,r).then(function(t){return n("CURRENT_ITEM",{}),t})},ae=function(t,e){t.state;var n=t.commit,r=e.params?Gt(e.params):null;return e.resourceType?y(""+e.resourceType,{params:r}).then(function(t){return n("CURRENT_COLLECTION",t),t}):null},se=function(t,e){t.state;var n=t.commit,r=e.params?Gt(e.params):null;return e.resourceType?y(""+e.resourceType,{params:r}).then(function(t){n("RELATIONSHIP_COLLECTION",t)}):null},ie=function(t,e){t.state;var n=t.commit,r=e&&e.params?Gt(e.params):null;y("media",{params:r}).then(function(t){n("MEDIA_LIBRARY",t)})},oe=function(t,e){t.state;var n=t.commit;e?(n("SHOW_MEDIA_SELECTOR",e.show),n("MEDIA_SETTER",e.setter)):(n("SHOW_MEDIA_SELECTOR",null),n("MEDIA_SETTER",null))},ce=function(t,e){var n=t.state,r=t.commit,a=n.selectedMedia;a?a[e.guid]=e.url:(a={})[e.guid]=e.url,r("SELECTED_MEDIA",a)},le=function(t,e){t.state;(0,t.commit)("EDIT_VIEW",e)},ue=function(t,e){t.state,t.commit;var n=btoa(e.username+":"+e.password);return y("accounts",{headers:{Authorization:"Basic "+n}})},de=function(t,e){t.commit;var n=e._items[0].token,r=e._items[0].username,a=e._items[0].roles;localStorage.setItem("token",n),localStorage.setItem("username",r),localStorage.setItem("roles",a)},me=function(t,e){var n=t.commit;console.log(e),n("NOTIFICATION",e)},pe=function(t){return t.schema},he=function(t){return t.currentSchema},fe=function(t){return t.currentItem},ve=function(t){return t.itemDiff},_e=function(t){return t.currentCollection},ge=function(t){return t.relationshipCollection},ye=function(t){return t.mediaLibrary},Ce=function(t){return t.mediaSelector},De=function(t){return t.mediaSetter},Ie=function(t){return t.editViewActive},be=function(t){return t.selectedMedia},we=function(t){return t.loading},Ee=function(t){return t.notification},xe=n("bOdI"),Se=n.n(xe),Ae=(Bt={},Se()(Bt,"SCHEMA",function(t,e){t.schema=e}),Se()(Bt,"CURRENT_SCHEMA",function(t,e){t.currentSchema=e}),Se()(Bt,"CURRENT_ITEM",function(t,e){t.currentItem=o()({},t.currentItem,e)}),Se()(Bt,"ITEM_DIFF",function(t,e){t.itemDiff=e?o()({},t.itemDiff,e):{}}),Se()(Bt,"CLEAR_CURRENT_ITEM",function(t){t.currentItem={}}),Se()(Bt,"CURRENT_COLLECTION",function(t,e){t.currentCollection=e}),Se()(Bt,"RELATIONSHIP_COLLECTION",function(t,e){t.relationshipCollection=e}),Se()(Bt,"MEDIA_LIBRARY",function(t,e){t.mediaLibrary=e}),Se()(Bt,"SHOW_MEDIA_SELECTOR",function(t,e){t.mediaSelector=e}),Se()(Bt,"MEDIA_SETTER",function(t,e){t.mediaSetter=e}),Se()(Bt,"SELECTED_MEDIA",function(t,e){t.selectedMedia=o()({},t.selectedMedia,e)}),Se()(Bt,"EDIT_VIEW",function(t,e){t.editViewActive=e}),Se()(Bt,"STORE_TOKEN",function(t,e){t.token=e}),Se()(Bt,"STORE_USERNAME",function(t,e){t.username=e}),Se()(Bt,"STORE_ROLES",function(t,e){t.roles=e}),Se()(Bt,"LOADING",function(t,e){t.loading=e}),Se()(Bt,"NOTIFICATION",function(t,e){t.notification=e,setTimeout(function(){t.notification=null},2e3)}),Bt);s.a.use(c.a);var Te=new c.a.Store({state:{schema:{},currentSchema:{},currentItem:{},itemDiff:{},currentCollection:{},relationshipCollection:{},mediaLibrary:[],selectedMedia:null,mediaSelector:!1,mediaSetter:null,editViewActive:!1,token:null,username:null,roles:null,loading:!1,notification:null},actions:r,getters:a,mutations:Ae});s.a.config.productionTip=!1,new s.a({el:"#app",store:Te,router:Yt,template:"<App/>",components:{App:d}})},RnpN:function(t,e){},"g+Ro":function(t,e){},kUjd:function(t,e){},"qJ/6":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f8c9ec630e40f69dc24f.js.map